// --------------------------------------------------------------
// -                       Mission Zone                         -
// --------------------------------------------------------------
//      Special NPCs for Mission Zone
//      Designed to take a player from Starting Location into
//      Rest of the Game and allow them to sign up and do
//      do missions that they earn mission points for to 
//      exchange for equipment and consumables.

// Marroll Knight - Select BG or LR character

new_1-1,60,115,4	script	Marroll Knight#nv	459,{
	mes "[Marroll Knight]";
	mes "I'm here to recruit warriors. I represent an elite guard of knights whose special training regimen will take you from a wimpy ^FF9000Novice^000000 to a powerful ^E40CAA[Battlegrounds Hero]^000000 with one simple spell. But there's a catch.";
	next;
	mes "[Marroll Knight]";
	mes "If you become a ^E40CAA[Battlegrounds Hero]^000000, you will face some restrictions.";
	next;
	mes "[Marroll Knight]";
	mes "A ^E40CAA[Battlegrounds Hero]^000000 will be instantly maxed out in level, but we cannot allow such a powerful person in our service to wander freely.";
	next;
	mes "[Marroll Knight]";
	mes "A ^E40CAA[Battlegrounds Hero]^000000 can only participate in ^666666Battlegrounds^000000 and ^666666War of the Emperium^000000, you will be forbidden to enter any areas that are not towns, ^666666War of the Emperium^000000 Guild versus Guild maps, or ^666666Battlegrounds^000000.";
	next;
	mes "[Marroll Knight]";
	mes "This is the price you must pay in exchange for becoming a powerful ^E40CAA[Battlegrounds Hero]^000000.";
	next;
	mes "[Marroll Knight]";
	mes "Remember, there are other ways to becoming Powerful Hero. If you take the same path that some walk down (as a low rate character), you will not have any restrictions on your character, but you will have to level up yourself.";
	next;
	mes "[Marroll Knight]";
	mes "If you chose that path, you will never be able to fight with the mighty ^E40CAA[Battlegrounds Heroes]^000000.";
	mes "Join me, and you will become very powerful!";
	next;
	switch(select("Let me think about it first:I want to earn my levels:Take me to 99, it's skull-bashing time.")) 
	{
	case 1:
		mes "[Marroll Knight]";
		mes "Remember, as soon as you leave this area, you won't get this opportunity to decide ever again. So think carefully on it.";
		close;
	case 2:
		mes "[Marroll Knight]";
		mes "Hah, I knew you were too timid to become one of us.";
		close;
	case 3:
		mes "Marroll Knight";
		mes "Very well, you will become a ^E40CAA[Battlegrounds Hero]^000000. I hope this is the decision you really wanted.";
		callfunc "F_cu_bg_jobchange";
		close;
	}	
}

// Bulletin Board - Flavor Text NPC

new_1-1,66,114,4	script	Bulletin Board#nv	111,{
	mes "^FF0000=================================^000000";
	mes "Welcome to Karma-RO!";
	mes "Cross this bridge and begin your adventure!";
	mes "^FF0000=================================^000000";
	close;
}

// Player Introduction NPC - Shion

new_1-1,53,114,4	script	Shion#nv1	727,{
	if (nov_1st_cos > 2) 
	{
		mes "[Shion]";
		mes "The Teleport Officer can send you to the Mission Zone.";
		next;
		mes "[Shion]";
		mes "From there, you can take missions and explore the world of Rune-Midgard!";
		next;
		mes "[Shion]";
		mes "When you get the Mission Zone, remember to look me up!";
		close;
	}
	else if (nov_1st_cos == 2) 
	{
		mes "[Shion]";
		mes "Hey...";
		mes "You little rascal!";
		next;
		mes "[Shion]";
		mes "Wait... Calm down Shion. You're a professional trainer! Don't get all upset at a Novice!";
		next;
		mes "[Shion]";
		mes "Go and cross the bridge to the right, right now! ^666666*Ahem*^000000 Talk to the Teleport Officer. She will send you the Mission Zone where you can learn from all sorts of Tutors or jump right into your adventures.";
		next;
		mes "[Shion]";
		mes "If you can't see the entrance, just change your in-game camera angle by holding down the ^3355FFright Mouse button^000000 and dragging your mouse. Easy, right?";
		next;
		mes "[Shion]";
		mes "To reset your camera angle,";
		mes "just double-click the right Mouse button. Okay then, take care!";
		set nov_1st_cos,3;
		next;
		mes "[Shion]";
		mes "When you get the Mission Zone, remember to look me up!";
		close;
	}
	else
	{
		mes "[Shion]";
		mes "Hello there~";
		mes "Welcome to Karma-RO!";
		next;
		mes "[Shion]";
		mes "Your name is...";
		mes "" + strcharinfo(0) + ".";
		next;
		mes "[Shion]";
		mes "My name is Shion.";
		mes "Yes, this is the first time we've met, of course. Hahahaha~!";
		next;
		mes "[Shion]";
		mes "Now that we've met, is there anything I can help you with?";
		mes "I'm here for your questions~";
		next;
		switch(select("Where should I go?:About Basic Interfaces")) 
		{
		case 1:
			mes "[Shion]";
			mes "Do you see the bridge to your";
			mes "right side? Just cross the bridge and you'll arrive at a castle. All you have to do is talk to the Teleport Officer outside.";
			next;
			mes "[Shion]";
			mes "Do you know how to move?";
			mes "Left click on a spot, and you'll walk over to that spot. Piece of cake, huh?";
			next;
			mes "[Shion]";
			mes "So go for it!";
			mes "Basically, you must talk to the Teleport Officer in order to start your adventures.";
			next;
			mes "[Shion]";
			mes "There are soldiers";
			mes "at the entrance, so don't";
			mes "worry about getting lost.";
			mes "Take care now~!";
			set nov_1st_cos,2;
			next;
			mes "[Shion]";
			mes "When you get the Mission Zone, remember to look me up!";
			close;
		case 2:
			mes "[Shion]";
			mes "Basic Interfaces...";
			mes "Do you know what Click, Double-click and Drag mean?";
			next;
			mes "[Shion]";
			mes "When you press the";
			mes "left Mouse button once,";
			mes "that is a click. When you press the mouse button twice in a row, that's a double-click.";
			next;
			mes "[Shion]";
			mes "Dragging is when you move your Mouse while holding down the";
			mes "Mouse button after clicking on something.";
			next;
			mes "[Shion]";
			mes "Before we start talking about";
			mes "the Basic Interfaces, you should remember these terms, just because we'll be using them frequently.";
			next;
			mes "[Shion]";
			mes "The Teleport Officer will send you to the Mission Zone where there is a Basic Interfaces Tutor who can teach you the basics more clearly, okay?";
			next;
			mes "[Shion]";
			mes "So go for it!";
			mes "Basically, you must talk to the Teleport Officer in order to start your adventures.";
			next;
			mes "[Shion]";
			mes "There are soldiers";
			mes "at the entrance, so don't";
			mes "worry about getting lost.";
			mes "Take care now~!";
			next;
			mes "[Shion]";
			mes "When you get the Mission Zone, remember to look me up!";
			set nov_1st_cos,2;
			close;
		}
	}
}


// Flavor Text NPC - Sad Guard

new_1-1,144,116,2	script	Sad Guard#nv1	105,{
	if (Class != Job_Novice) 
	{
		mes "[Training Grounds Guard]";
		mes "Gosh, how did you get here?";
		mes "You must have gotten a defective ^3355FFButterfly Wing^000000!";
		next;
		mes "[Training Grounds Guard]";
		mes "No... you don't belong here anymore.";
		mes "Talk to the Mission Zone Teleport Officer...";
		mes "She can send you back to civilization, geez!";
		close;
	}
	else 
	{
		mes "[Training Grounds Guard]";
		if(rand(2)==1) 
		{
			mes "We used to have more to do.";
			mes "But then the Mission Zone came.";
			next;
			mes "You're standing outside the now defunct Training Grounds.";
			mes "I used to guard this outer court yard every day and direct new adventurers to go inside.";
			next;
			mes "Not anymore though...";
			next;
			mes "I guess you'll be wanting";
			mes "To head to the Mission Zone to";
			mes "start your new adventure.";
			next;
			mes "You know, we used to train new";
			mes "adventurers, but then they took our jobs.";
		}
		else 
		{
			mes "Talk to the Mission Zone Officer";
			mes "To start your new adventure";
			next;
			mes "Go, Novice, go!";
			mes "Fight, and grow stronger! Look towards a brighter tomorrow!";
		}
		close;

	}
}

// Sends Player to Mission Zone from Novice Training Grounds
// - Mission Zone Teleport Officer

new_1-1,144,107,2	script	Mission Zone Officer#nv1	729,{
	if (Class != Job_Novice) 
	{
		mes "[Mission Zone Officer]";
		mes "Hey, this area is restricted!";
		next;
		mes "[Mission Zone Officer]";
		mes "No... you don't belong here anymore.";
		mes "I'll send you back to the Mission Zone. ";
		savepoint "moc_para01",31,14;
		close2;
		warp "moc_para01",31,14;
		end;
	}
	else 
	{
		mes "[Mission Zone Officer]";
		mes "Those who are wandering around this strange world with aimless eyes listen up and come to me!";
		mes "Mission Zone is here to help you and will show you the great future.";
		next;
		mes "[Mission Zone Officer]";
		mes "Are you a fresh adventurer?";
		mes "Are you eager to do something good?";
		mes "Would you like to be a problem solver?";
		mes "Mission Zone is here to solve your problem.";
		next;
		switch(select("Move to Mission Zone:Don't want to talk anymore.")) 
		{
		case 1:
			mes "[Mission Zone Officer]";
			mes "I'll guide you to our base to begin your training!";
			set nak_warp,4;
			set nov_1st_cos,3; // tells Shion to tell Novice to go back caross bridge again
			close2;
			savepoint "moc_para01",31,14; // thanks lighta
			warp "moc_para01",31,14;
			end;
		case 2:
			mes "[Mission Zone Officer]";
			mes "If you don't know what to do for your future, don't hesitate to tell me. Just drop by and talk to me! Ok?";
			next;
		mes "[Mission Zone Officer]";
			mes "There's not much else going out here, so you probably should just come with me.";
			next;
		mes "[Mission Zone Officer]";
			mes "It's good karma to help others as well...~";
			close;
		}
	}
}


// Mission Zone Starter NPC for Novices - Shion
moc_para01,25,35,4	script	Shion#nv2	727,{
	mes "[Shion]";
	if (Class != Job_Novice && MD_missions_completed > 0) 
	{
		mes "^666666*GEEEEEZ*^000000 Don't you have karma to be farming?";
		mes "Don't just stand around! Go do something!";
		mes "Talk to the Agents behind the desk to get a new mission!";
		close;
	}
	else if (Class != Job_Novice && MD_missions_completed <= 0) 
	{
		mes "You must be new to the Mission Zone! Talk to Mission Coordinator Lime behind the desk to start doing missions! I'm actually the Novice Coordinator, so there isn't much more I can do for you than that. Sorry~*";
		close;
	}
	else if (Class == Job_Novice && MD_missions_completed <= 0 && newbie_school > 8) 
	{
		mes "Hey smart stuff, you should know what you're doing, so talk to Coordinator Lime on my left and get started on those missions! If you're too cool for school, then prove it!";
		close;
	}
	else if (Class == Job_Novice && newbie_school == 8)
	{
		mes "[Shion]";
		mes "Great job completing the Karma-RO Newbie School! You're now ready for missions!";
		mes "Talk to Coordinator Lime on my left and you can work on the missions!";
		set newbie_school, 9;
		close;
	}
	else 
	{
		mes "Hi, Welcome to the ^666666Mission Zone^000000";
		mes "I'm the Novice Coordinator, Shion.";
		next;
		mes "[Shion]";
		mes "You're ^666666*fresh*^000000 here, aren't you?";
		mes "Glad to meet you~!";
		next;
		mes "[Shion]";
		mes "Wait, we've met before! I'm so forgetful!";
		mes "You're " + strcharinfo(0) + ".";
		mes "I'm so glad you managed to make it here!";
		next;
		mes "[Shion]";
		mes "Since we've got the meet and greet out of the way, let me tell you what's next.";
		next;
		mes "[Shion]";
		mes "You can either jump straight into doing Missions here or if you're unsure, I'll send you upstairs to learn the basics.";
		next;
		mes "[Shion]";
		mes "I don't like to send ^666666*newbies*^000000 to do missions right out of the gate, but sometimes they insist they're ready and who am I to stop someone that is that ^666666*fired up*^000000~!";
		next;
		mes "[Shion]";
		mes "So, what's it going to be?";
		next;
		switch(select("I think I'd like to learn the Basics:I'm ready to do Missions now!")) 
		{
			case 1:
				mes "[Shion]";
				mes "Alright, I'll send you upstairs and the tutors up there will ^666666*school*^000000 you up to be Mission Zone ready";
				set newbie_school,1;
				close2;
				warp "moc_para01",14,176;
				end;
			case 2:
				mes "[Shion]";
				mes "Alright, talk to the Mission Zone Agents behind the desk, and you'll be ready to start your first Missions.";
				set newbie_school,9; // didn't want to do the newbie school
				close;
		}
	}
}


// Mission Coordinator Lime

moc_para01,27,35,5	script	Coordinator Lime#1	952,{
	if (First_Job_Class_Trial >= Job_Swordman)
	{
		mes "[Mission Coordinator Lime]";
		mes "Ah, you've returned! But wait, have you met the requirements?";
		next;
		if ( getskilllv("NV_BASIC") < 9)
		{
			mes "[Mission Coordinator Lime]";
			mes "Well, you're there yet. Remember, our deal was that your job level must have all of the Basic Skills, and don't forget you should learn all of the Basic Skills in your Skill Window (Alt + S). Once you've done that, talk to me again.";
			close;
		}
		else
		{
			mes "[Mission Coordinator Lime]";
			mes "Great~! You reached Job Level 10 and even got all of your Basic Skills maxed out. You're a pro!";
			mes "I haven't forgotten my promise! But did you remember to keep up your end of the deal?";
			next;
			setarray .@manuals[0], 2819, 2824, 2822, 2821, 2823, 2820;
			setarray .@figures[0], 2766, 2768, 2769, 2767, 2771, 2770;
			set .@tc, First_Job_Class_Trial-1;
			
			if ( countitem(.@manuals[.@tc]) == 0 )
			{
				mes "[Mission Coordinator Lime]";
				mes "Bring me the "+getitemname(.@manuals[.@tc])+" I lent you, or the deal is off.";
				close;
			}
			else
			{
				mes "[Mission Coordinator Lime]";
				mes "Wow, great! You've made it and brought the manual back!.";
				next;
				delitem(.@manuals[.@tc], 1);
				mes "[Mission Coordinator Lime]";
				mes "Now, I will reward you with the "+getitemname(.@figures[.@tc])+" I promised you.";
				if (Class == Job_Novice)
				{
					mes "You have been transformed into a handsomer person too, now!";
					mes "When you get to Job Level 50, type ^0000BF@control^000000 to change your class, and you will be able to convert yourself to a Second Job.";
					callfunc "Job_Change_cu",First_Job_Class_Trial;
				}
				next;
				getitem(.@figures[.@tc], 1);
				mes "[Mission Coordinator Lime]";
				mes "As you go forth on your adventures in Ragnarok Online, hold both figures close to you, the Novice Figure to remind you were you once were and to always remember when you encounter new travellers that they are going through the struggles that you went through...";
				next;
				mes "[Mission Coordinator Lime]";
				mes "...and the "+getitemname(.@figures[.@tc])+" to remind you where you are going and the power you now possess.";
				next;
				mes "[Mission Coordinator Lime]";
				mes "Good luck, and don't forget to do all our missions!";
				mes "If you do, you'll earn points that you can bring to Reward King Michael to my right to exchange for great items!";
				set First_Job_Class_Trial, -1;
				next;
				mes "[Mission Coordinator Lime]";
				mes "Here, as an added bonus, I'll even start you off with our Paradise Armor starter pack~!";
				mes "I recommend you head to Reward King Michael and purchase your first Paradise Weapon!";
				
				getitem(2456, 1); //eden boots i
				getitem(5583, 1); //eden hat i
				getitem(2560, 1); //eden manteau i
				getitem(15009,1); //eden uniform i
				
				switch (Class)
				{
					case Job_Merchant:
					case Job_Thief:
					case Job_Swordman:
						getitem(13041, 1);
						break;
					case Job_Mage:
						getitem(1639, 1);
						break;
					case Job_Archer:
						getitem(1742, 1);
						getitem(12005, 1);
						break;
					case Job_Acolyte:
						getitem(1545, 1);
						break;
				}
			if (BaseClass==Job_SuperNovice) goto L_sSuperN;
			if (BaseClass==Job_Swordman) goto L_sSword;
			if (BaseClass==Job_Mage) goto L_sMage;
			if (BaseClass==Job_Archer) goto L_sArcher;
			if (BaseClass==Job_Acolyte) goto L_sAcolyte;
			if (BaseClass==Job_Merchant) goto L_sMerchant;
			if (BaseClass==Job_Thief) goto L_sThief;
				close;
			L_sSuperN:
				skill 142,1,0;
				close;
			L_sSword:
				skill 142,1,0;
				skill 144,1,0;
				skill 145,1,0;
				skill 146,1,0;
				close;
			L_sMage:
				skill 142,1,0;
				skill 157,1,0;
				close;
			L_sArcher:
				skill 142,1,0;
				skill 147,1,0;
				skill 148,1,0;
				close;
			L_sAcolyte:
				skill 142,1,0;
				skill 156,1,0;
				close;
			L_sMerchant:
				skill 142,1,0;
				skill 153,1,0;
				skill 154,1,0;
				skill 155,1,0;
				close;
			L_sThief:
				skill 142,1,0;
				skill 149,1,0;
				skill 150,1,0;
				skill 151,1,0;
				skill 152,1,0;
				close;
				close;
			}
		}
	}
	else if (MD_missions_completed > 0) 
	{
		if (Class == Job_Novice)
		{
			mes "[Mission Coordinator Lime]";
			mes "Oh.. you're still a novice?";
			mes "If you'd like to change classes, please use ^0000AF@control^000000.";
			close;
		}
		mes "[Mission Coordinator Lime]";
		mes "Hey there adventurer! I'm glad to see you working hard on missions!";
		next;
		mes "[Mission Coordinator Lime]";
		mes "Remember, as you finish Missions, you will earn Mission Reward Points which you can trade at the Exchange Zone for equipment and items!";
		next;
		mes "[Mission Coordinator Lime]";
		mes "Talk to Reward King Michael to my right and he'll show you how to pick them up.";
		close;
	}
	else 
	{
		mes "[Mission Coordinator Lime]";
		mes "Hi, welcome to the Mission Zone! Are you ready to start your adventures?";
		next;
		
		
		switch(select("What is the Mission Zone?:Join the Mission Zone:Cancel")) 
		{
			case 1:
				mes "[Mission Coordinator Lime]";
				mes "We're here to guide newbies through the world of Rune-Midgard. Our missions will send you all around Rune Midgard and through the lands of her allies.";
				next;
				mes "[Mission Coordinator Lime]";
				mes "Every mission you take and complete, you'll be rewarded with points, and you can exchange the points for better equipment and items!";
				next;
				mes "[Mission Coordinator Lime]";
				mes "Many of our missions are better done in a group, so team up and make friends to make things easier for you! Afterall, this is a social ga- I mean making friends is GREAT!";
				close;
				break;
			case 2:
				mes "[Mission Coordinator Lime]";
				mes "So you want to learn how to do missions?";
				next;
				switch(select("Yes, I want to start doing missions!:No, I don't want to have fun.")) 
				{
					case 1:
						mes "[Mission Coordinator Lime]";
						mes "Alright. To take on missions, you will check out the board on the right and it will assign you whatever tasks are available. Don't worry, missions are tailored to your level of ability. We won't assign you missions you can't complete.";
						next;
						mes "[Mission Coordinator Lime]";
						mes "Good luck!";
						
						if (Class == Job_Novice && First_Class_Job_Trial == 0)
						{
							next;
							mes "[Mission Coordinator Lime]";
							mes "Oh! We have a special deal for novices like yourself.";
							mes "Those who use our figure and manual receive bonuses upon completion of their missions.";
							next;
							mes "[Mission Coordinator Lime]";
							mes "What first class do you want to be? I will let you take on the Job Manual of one First Job Class which will give you a taste of how that class works as well as a Novice Figure.";
							next;
							mes "[Mission Coordinator Lime]";
							mes "When you get to Job Level 10 and return to me, I will change you to your First Job Class and exchange your Job Manual for your respective Job Class Figure. Note, only Swordsmen, Acolytes, Mages, Archers, Thiefs, and Merchants will receive a new Job Class Figure. ";
							next;
							mes "[Mission Coordinator Lime]";
							mes "All other First Jobs (Gunslingers, Ninjas, and Taekwons) will keep their Novice Figure.";
							next;
							mes "[Mission Coordinator Lime]";
							mes "Now then, what class would you like to be?";
							switch(select("Swordsman:Mage:Archer:Acolyte:Thief:Merchant:Something else"))
							{
								case 1:
									mes "[Mission Coordinator Lime]";
									mes "You have chosen Swordsman. Return to me when you are job 10, and I will change you to your First Job Class. Here is your Novice Figure and Swordsman Job Manual.";
									getitem 2765, 1; // Novice Figure
									getitem 2819, 1; // Swordman Job Manual
									getitem(1243,1); //novice main gauche
									getitem(2352,1); //novice ninja suit
									getitem(2112,1); //novice guard
									getitem(5055,1); //novice eggshell
									getitem(2414,1); //novice boots
									getitem(2510,1); //novice hood
									
									getitem(12324,5); //novice bwing
									getitem(12323,50); //novice fwing
									getitem(569,400); //novice potions
									set First_Job_Class_Trial,Job_Swordman;
									close;
								case 2:
									mes "[Mission Coordinator Lime]";
									mes "You have chosen Mage. Return to me when you are job 10, and I will change you to your First Job Class. Here is your Novice Figure and Mage Job Manual.";
									getitem 2765, 1; // Novice Figure
									getitem 2824, 1; // Mage Job Manual
							getitem(1243,1); //novice main gauche
							getitem(2352,1); //novice ninja suit
							getitem(2112,1); //novice guard
							getitem(5055,1); //novice eggshell
							getitem(2414,1); //novice boots
							getitem(2510,1); //novice hood
							
							getitem(12324,5); //novice bwing
							getitem(12323,50); //novice fwing
							getitem(569,400); //novice potions
									set First_Job_Class_Trial,Job_Mage;
									close;
								case 4:
									mes "[Mission Coordinator Lime]";
									mes "You have chosen Acolyte. Return to me when you are job 10, and I will change you to your First Job Class. Here is your Novice Figure and Acolyte Job Manual.";
									getitem 2765, 1; // Novice Figure
									getitem 2821, 1; // Acolyte Job Manual
							getitem(1243,1); //novice main gauche
							getitem(2352,1); //novice ninja suit
							getitem(2112,1); //novice guard
							getitem(5055,1); //novice eggshell
							getitem(2414,1); //novice boots
							getitem(2510,1); //novice hood
							
							getitem(12324,5); //novice bwing
							getitem(12323,50); //novice fwing
							getitem(569,400); //novice potions
									set First_Job_Class_Trial,Job_Acolyte;
									close;	
								case 3:
									mes "[Mission Coordinator Lime]";
									mes "You have chosen Archer. Return to me when you are job 10, and I will change you to your First Job Class. Here is your Novice Figure and Archer Job Manual.";
									getitem 2765, 1; // Novice Figure
									getitem 2822, 1; // Archer Job Manual
							getitem(1243,1); //novice main gauche
							getitem(2352,1); //novice ninja suit
							getitem(2112,1); //novice guard
							getitem(5055,1); //novice eggshell
							getitem(2414,1); //novice boots
							getitem(2510,1); //novice hood
							
							getitem(12324,5); //novice bwing
							getitem(12323,50); //novice fwing
							getitem(569,400); //novice potions
									set First_Job_Class_Trial,Job_Archer;
									close;
								case 5:
									mes "[Mission Coordinator Lime]";
									mes "You have chosen Thief. Return to me when you are job 10, and I will change you to your First Job Class. Here is your Novice Figure and Thief Job Manual.";
									getitem 2765, 1; // Novice Figure
									getitem 2820, 1; // Thief Job Manual
							getitem(1243,1); //novice main gauche
							getitem(2352,1); //novice ninja suit
							getitem(2112,1); //novice guard
							getitem(5055,1); //novice eggshell
							getitem(2414,1); //novice boots
							getitem(2510,1); //novice hood
							
							getitem(12324,5); //novice bwing
							getitem(12323,50); //novice fwing
							getitem(569,400); //novice potions
									set First_Job_Class_Trial,Job_Thief;
									close;
								case 6:
									mes "[Mission Coordinator Lime]";
									mes "You have chosen Merchant. Return to me when you are job 10, and I will change you to your First Job Class. Here is your Novice Figure and Merchant Job Manual.";
									getitem 2765, 1; // Novice Figure
									getitem 2823, 1; // Merchant Job Manual
							getitem(1243,1); //novice main gauche
							getitem(2352,1); //novice ninja suit
							getitem(2112,1); //novice guard
							getitem(5055,1); //novice eggshell
							getitem(2414,1); //novice boots
							getitem(2510,1); //novice hood
							
							getitem(12324,5); //novice bwing
							getitem(12323,50); //novice fwing
							getitem(569,400); //novice potions
									set First_Job_Class_Trial,Job_Merchant;
									close;
								case 7:
									mes "[Mission Coordinator Lime]";
									mes "I see... well, I am sorry, but we only offer this for those who choose to be one of the 6 primary classes.";
									set First_Job_Class_Trial,-1;
									close;
							}
						}
						
						close;
					case 2:
						mes "[Mission Coordinator Lime]";
						mes "Boy, you're a downer... maybe you should think twice about it.";
						next;
						close;
				}
				
			case 3:
				mes "[Mission Coordinator Lime]";
				mes "Okey-dokey..";
				close;
		}
		
	}
}

// Flavor Text NPC - Inventor Aerystotle
// script by mrj

moc_para01,21,35,5	script	Inventor Aerystotle	121,{
	set .@n$, "[Inventor Aerystotle]";
	
	mes .@n$;
	mes "Yes, the Control Unit!";
	mes "This mighty invention of mine gives adventurers remote access to the luxuries of civilization from anywhere! Tiny Ymir chips allow this~! It's complicated!";
	next;
	mes .@n$;
	mes "You can call up this amazing device just by typing @control";
	next;
	
	if (select("Okay... thank you.:What does it do?")==1)
	{
		mes .@n$;
		mes "Heheh... walk away. You know you'll need my help.";
		close;
	}
	
	mes .@n$;
	mes "Very well, allow me to explain.";
	mes "First up, Autolog Commands.";
	next;
	mes .@n$;
	mes "The autolog commands let you customize how you'll experience your world when you start your adventure each day. Some might call it augmented reality. I just call it autolog commands. With your custom settings, you can pick out what information is displayed when logging in! You could for example set autoloot on, displaying of zeny, and so on!";
	next;
	mes .@n$;
	mes "The stylist option lets you change your look on the go! Always a plus for busy adventurers who don't have the time to schedule a full makeover when they're busy fighting back hordes of orcs!";
	next;
	mes .@n$;
	mes "The rental function is for Cavalier classes like Knights and Crusaders who need to summon their Peco Pecos from afar. It allows Hunters to get their Falcons from anywhere, and Merchants are able to have their Pushcarts sent straight to them.";
	next;
	mes .@n$;
	mes "Class change lets you contact the Mission Zone home office to register and confirm a change of class. Meet the requirements, you'll be able to change your class from anywhere.";
	next;
	mes .@n$;
	mes "Sometimes you realize you made some bad decisions. Well, with my Ymir powered Control Unit, you can use the Neuraliser functionality and reset your stats and skills from anywhere.";
	next;
	mes .@n$;
	mes "That wraps up everything... try it out! It's glorious!";
	close;
	
}


// Mission Reward King Michael and Exchange Zone NPCs


moc_para01,23,35,5	script	Reward King Michael	967,{
	if (MD_mission_points > 0)
	{
		mes "[Mission Reward King Michael]";
		mes "Hey there adventurer! You've got some Mission Reward Points. Do you want to trade those in?";
		next;
		if (MD_knowledge_trade < 1)
		{
			mes "[Mission Reward King Michael]";
			mes "Oh right, you're new and don't know this yet. So let me tell you about Mission Reward Point Trade-Ins. You can exchange Mission Reward Points for equipment and items! It's one of the great perks about doing Missions.";
			set MD_knowledge_trade,1;
			next;
		}
		
		switch(select("I want to exchange Mission Reward Points:Cancel")) 
		{
			case 1:
				mes "[Mission Reward King Michael]";
				mes "Alright! I'm sending you to the Mission Reward Points Exchange Zone!";
				close2;
				warp "moc_para01",107,86;
				end;
			case 2:
				mes "[Mission Reward King Michael]";
				mes "Alright! Talk to me again some time if you actually want to trade in Mission Reward Points.";
				close;
		}
		
	}
	else
	{
		mes "[Mission Reward King Michael]";
		mes "You don't have any Mission Reward Points!";
		mes "You should go look at the Mission Board and find some Missions to do! You'll earn Mission Reward Points which you can turn in for equipment and items in the Exchange Zone!";
		close;
	}
	
}
	
moc_para01,105,92,5	script	Reward King Michael#EZ	967,{
	mes "[Mission Reward King Michael]";
	mes "What would you like?";
	next;
	switch(select("Oh, nothing.:What are these items?:Send me back, please!")) 
	{
		case 1:
			mes "[Mission Reward King Michael]";
			mes "Alright, take your time, and talk to me when you're done to go back to the Mission Zone.";
			close;	
		case 2:
			mes "[Mission Reward King Michael]";
			mes "Ah, let me explain, two of these shops belong to us you can see, the Karma Gears and Paradise Gears. The rest belong to the Kafra Corp. Speak to their rep to see what those are about.";
			next;
			
			mes "[Mission Reward King Michael]";
			mes "Paradise gears are those which are intended to give new adventurers an advantage in levelling in exchange for completing missions on behalf of the Mission Zone.";
			next; 
			mes "[Mission Reward King Michael]";
			mes "They are very cheap but provide some decent benefits. They cannot be upgraded or refined but they remain permanently attached to you and will not expire.. unless you sell them to an NPC, of course.";
			next;
			mes "[Mission Reward King Michael]";
			mes "Karma Gears provide an added bonus to veteran adventurers. They are more costly and are available for you you to do as you please, you could even sell them to others if you'd like. When put in the hands of the right person, they provide a powerful boost in battling monsters.";
			next;

			mes "[Mission Reward King Michael]";
			mes "That wraps up about everything there is to know about these items. If you'd like to learn about them individually, check the shop and right click the items.";
			close;	
		case 3:
			mes "[Mission Reward King Michael]";
			mes "Alright, I'll send you back to the Mission Zone now.";
			close2;
			warp "moc_para01",31,14; 
			end;
			
	}
	
}

// 2790/2788/2789/2787
moc_para01,110,95,4	varshop(MD_mission_points)	Karma Gears#mz	56,1578:100,1744:100,13419:100,1283:100,1547:100,1828:100,1982:100,1427:100,1642:100,2348:250,2358:250,2350:250,2399:150,2344:250,2385:400,2346:250,2384:1500,2441:1000,2439:600,2546:1100,2553:150,2548:1500,2561:200,2511:350,2543:350,2741:300,2688:500,2763:1500:2695:350,2693:350,2689:350,2692:350,2691:350,2690:350,2694:350,2711:350,2790:500,2788:500,2789:500,2787:500,2695:500,2760:150,2753:150,2756:150,2755:150,2759:150,2762:150,2758:150,2754:150,2757:150,2761:150
moc_para01,110,92,4	varshop(MD_mission_points)	Paradise Gears#mz	966,2456:1,2457:5,2458:8,2473:10,5583:5,18514:10,2560:5,2571:15,15009:5,15010:10,15011:15,1583:20,1747:5,1748:10,18106:15,13050:5,13051:10,13066:15,1931:10,1289:10,1831:10,16004:5,16005:10,16014:15,13112:5,13113:10,13114:15,13423:5,13424:10,13434:15,1192:5,1193:10,1197:15,1434:10,1650:5,1651:10,1658:15,1986:10
moc_para01,110,98,4	varshop(MD_mission_points)	Gambler Spliff#mz		853,2456:1


moc_para01,108,80,2	script	Kafra Corp. Rep#mz	114,{
	set .@n$, "[Kafra Corp. Rep]";
	
	mes .@n$;
	mes "Hello, I'm from the Kafra Corp. We offer our goods to adventurers who bring us Kafra Points. What would you like?";
	
	next;
	set .@s, select("What are Kafra Points?:What are these shops?:Nothing, thanks");
	switch (.@s)
	{
		case 1:
			mes .@n$;
			mes "Kafra Points are special currency obtained from killing mobs, completing quests, and participating in Battlegrounds.";
			next;
			mes .@n$;
			mes "You may use these in the shops below to obtain bonus items not otherwise found in Rune-Midgard.";
			close;
		case 2:
			mes .@n$;
			mes "Kafra Shop Items are our main attraction, these are utility items containing things like lightweight potions and buffing scrolls. Also inclued are some utility items, such as Gym Passes and Token of Siegfried. View the shop to see what the items do.";
			next;
			mes .@n$;
			mes "Enchantment Stones are items that go into Hidden Slots of Armor items. Be warned, once the Enchantment is placed, it can never be overridden or dislodged. You may still extract any card placed in the armor, but the Enchantment is permanent."; 
			next;
			mes .@n$;
			mes "Pet Taming items are items used for capturing certain mobs. These mobs can be used as cute pets, and rumor has it they provide the owner benefits if they like you enough...";
		case 3:
			close;
	}

}

moc_para01,105,75,2	varshop(##KAFRAPOINTS)	Enchantment Stones#mz	113,4700:300,4710:300,4720:300,4730:300,4740:300,4750:300,4701:1000,4711:1000,4721:1000,4731:1000,4741:1000,4751:1000,4702:3000,4712:3000,4722:3000,4732:3000,4742:3000,4752:3000,4760:500,4761:1500,4766:500,4767:1500,4762:200,4763:500,4764:400,4765:700,4795:100,4796:200,4797:300,4798:500,4799:700,4800:200,4801:350,4802:500
moc_para01,108,75,2	varshop(##KAFRAPOINTS)	Kafra Shop Items#mz	116,13531:1,13532:2,13533:3,13534:5,13810:15,13762:140,13826:10,13827:10,12913:35,12914:35,13912:75,13913:75,13995:35,13714:65,13718:65,13749:45,13749:45,13809:45,14004:50,13989:50,13761:75,13759:60,13760:30,8918:30,8919:30,8960:75,12922:100,13710:1500
moc_para01,111,75,2	varshop(##KAFRAPOINTS)	Pet Taming#mz	115,12358:250,12359:250,12360:250,12361:250,12362:250,12363:250,12364:250,12365:250,12366:250,12367:250,12368:250,12369:250,12370:250,12371:250,12372:250,12373:250


// Mission Board

moc_para01,38,37,4	script	Mission Board#mz	857,{
	callfunc "MD_mission_board","Mission Board";
}

// Flavor Text NPC - Old Adventurer
moc_para01,16,22,7	script	Old Adventurer#eden	900,{
	mes "[Old Adventurer]";
	mes "Would you believe I am old enough to remember when the Mission Zone wasn't here?";
	next;
	mes "[Old Adventurer]";
	mes "The Eden Group used to own this building, but they wouldn't let me join! The Mission Zone welcomes everyone, even old men like me!";
	close;
}

// Flavor Text NPC - Jobs Tutor
// Provides flavor text on how to change classes and what the different classes are
// Script by Nick per mrj's request
// v1.0
//
moc_para01,38,14,5	script	Jobs Tutor#mzone	57,{
	set .npcname$,"[Jobs Tutor]";
	mes .npcname$;
	mes "Are you looking for how to change your class?";
	mes "Luckily, I, the Jobs Tutor, can help you!";
	next;
	switch(select("Where can I change my class?:What are the different classes?:Nevermind"))
	{
	case 1:
		mes .npcname$;
		mes "When you started your adventures, you were given a Control Unit that you can access by typing @control. The Control Unit will let you change your class anywhere as long as you meet the basic requirements for each class before changing.";
		next;
		mes .npcname$;
		mes "For changing your First Class Job, you should know that if you're looking to change to one of the six primary First Class Jobs (Swordman, Acolyte, Mage, Archer, Thief, or Merchant), the Mission Zone has arranged a contract with their respective Guilds to train them at the Registration Desk. If you choose to train through the Mission Zone, you will be gifted additional items and receive a short quest that will let you receive a special First Class Job accessory, not available elsewhere.";
		next;
		mes .npcname$;
		mes "Otherwise, you could travel to the respective Guilds and change your job with them officially, but there's no real benefit for doing this.";
		next;
		mes .npcname$;
		mes "Well, I hope that helps. Feel free to talk to me again if you have further questions.";
		close;
	case 2:
		mes .npcname$;
		mes "Luckily, I happen to know all about the Class Jobs you can take on in Ragnarok Online!";
		mes "If you had my class in the Newbie School, you'd know this!";
		mes "But sit back and listen, because I'm about to tell you a lot of information.";
		next;
		mes .npcname$;
		mes "There are six primary First Class Jobs in Ragnarok Online.";
		mes "They are the Swordman, the Acolyte, the Mage, the Archer, the Thief, and the Merchant.";
		mes "Each of these has the choice of two Second Class Jobs which differ in their roles and skills. When you reach the maximum level of 99 as a Second Class Job, you can opt to be reborn, and you will have to level back up as a High First Class Job. While this seems like a lot of work, when you go to change back to a Second Class Job, you will become a Transcendent Second Class Job with brand new powerful skills that you did not have before, as well as the ability to grow 20 more skill points that you could not have before.";
		next;
		mes .npcname$;
		mes "The Swordman is a strong melee fighter. You can choose the Knight (who becomes the Lord Knight after Transcending) who possesses strong sword and spear skills. Knights don't deal the most damage, but they are very tankable.";
		next;
		mes .ncpname$;
		mes "You can also choose to be a Crusader (who becomes the Paladin after Transcending) who possesses strong defensive skills and can protect others. The Crusader is a powerful ally to have when going into Siege or Battlegrounds. Even though the Crusader cannot deal strong attacks out of their own, they can protect offensive classes who have weak defenses.";
		next;
		mes .npcname$;
		mes "The Acolyte is a divine class who brings the power of God to heal or mete out His justice. You can choose the Priest (who becomes the High Priest after Transcending) who possesses amazing support skills that increase the damage that their partymates can do. Priests can also forgo supporting in favor of taking on Holy magic spells that deal strong damage to Demon and Undead monsters.";
		next;
		mes .npcname$;
		mes "The Acolyte can choose instead though to become a Monk (who becomes the Champion after Transcending). Monks use their strong fists to deal amazing damage, channeling from their Spirit Orbs. A Monk may be one of the strongest classes to take on Boss monsters, or an amazingly strong Crowd Control to have on your side when going into Siege or Battlegrounds.";
		next;
		mes .npcname$;
		mes "The Mage harnesses the power of nature. They can choose to become the Wizard (who becomes the High Wizard after Transcending) and uses this power to channel it into strong Magical Attacks and can deal massive Area damage to all foes on-screen or the Sage (who becomes the Scholar after Transcending) who uses their power instead to provide powerful Area Control skills and amazing Debuffs. Both are a valued ally when going into Siege or Battlegrounds.";
		next;
		mes .npcname$;
		mes "The Archer takes aim from their strong decisions. They can become the Hunter (who becomes the Sniper after Transcending). The Hunter has strong Arrow skills that deal lots of damage very quickly. They also can use their Falcons to assist them. Hunters can manage Area Control with their Traps which will either halt their enemies progress or deal damage to them.";
		next;
		mes .npcname$;
		mes "Archers can also choose to become the Bard or the Dancer (which become the Minstrel or the Gypsy after Transcending) depending on their gender. Both Bards and Dancers use their Songs to assist their allies and offend their enemies. No party is complete without a Bard along, regardless of whether you're battling monsters or players. It never hurts to have a Dancer either!";
		next;
		mes .npcname$;
		mes "The Thief works from the shadows to attack or confound the enemy. They can become the Assassin (who becomes the Assassin Cross after Transcending) and can use powerful Poison skills to eliminate anyone who stands in their way or they can become the Rogue (who becomes the Stalker after Transcending) who uses their trickery to steal whatever they want, including the skills of their enemies!";
		next;
		mes .npcname$;
		mes "The Merchant is a shrewd tradesperson. They can become the Blacksmith (who becomes the Mastersmith after Transcending) and is able to forge strong weapons as well as deal strong attacks to monsters. They can forge a stronger party as well through their buffs. Merchants can also choose to become the Alchemist (who becomes the Biochemist after Transcending). The Alchemist uses their knowledge of Potions and Chemistry to brew concoctions that can heal weakened party members or they can use their chemical knowledge as a weapon against monsters and enemy players.";
		next;
		mes .npcname$;
		mes "Those are the six primary First Class Jobs and their Second Class Jobs.";
		mes "Do you want to hear about the Expanded Jobs now?";
		switch(select("Nah, I've heard all I cared about:Wait, there's more jobs!?"))
		{
		case 1:
			mes .npcname$;
			mes "Glad I could help. I hope this has enlightened you on the variety of jobs available in Ragnarok Online. Feel free to talk to me anytime you're curious for more information.";
			close;
		case 2:
			mes .npcname$;
			mes "There are four Expanded Jobs. They are Gunslingers, Ninjas, Super Novices, and Taekwons.";
			mes "Only Taekwons have a Second Class Job, the rest are only First Class Jobs.";
			next;
			mes .npcname$;
			mes "The Gunslinger is a firearms expert. Their quick hands and steady aim allow them to use a variety of Guns. A good Gunslinger has to specialise though in a particular type of Guns, though. Certain gun specializations favor Burst Damage and Area Control while others are aimed at dealing high damage to a single target. Gunslingers are an excellent duelist and able to face down most monsters with ease.";
			next;
			mes .npcname$;
			mes "The Ninja is a master of the secret arts. They can choose to specialise in elemental magic, using the power of elemental stones to cast powerful spells. Or they can choose to lurk in the shadows, vanishing in the mist and throwing a variety of kunai and shuriken to dispatch their enemies.";
			next;
			mes .npcname$;
			mes "The Super Novice is a special path that any Novice can take if they're willing to level to Base 45. A Super Novice can learn any of the First Class Job skills. They can pick and choose their skills carefully to take on monsters as they wish. Unfortunately, when it comes to Siege and Battlegrounds, you'd probably be better off going with a real expert than these jack of all trades.";
			next;
			mes .npcname$;
			mes "The Taekwon follows a hard road to become an expert of the kicking arts. Unlike the other Expanded Jobs, the Taekwon has a choice of two Second Class Jobs. The Taekwon can choose to become the Star Gladiator, a powerful warrior who channels the Moon, the Sun, and the Stars to gain their true power. Monsters who Star Gladiators have marked as their enemies will soon face a beatdown of universal proportions. ";
			next;
			mes .npcname$;
			mes "Or the Taekwon can choose to become the Soul Linker. They call on the power of their ancestors to use the Soul Link which unlocks the hidden abilities of the other classes. Soul Linkers also have strong defensive Ka magic which make them a useful ally in any Siege or Battlegrounds engagement. Even though Soul Linkers have given up TaeKwon Do, when it comes to fighting monsters, they can also use Es magic to blast their foes. A Soul Linker won't be able to specialize though in both Ka and Es magic along with the Soul Links, so the Soul Linker must decide whether they want to focus their talents towards helping other players or fighting monsters.";
			next;
			mes .npcname$;
			mes "A TaeKwon who chooses to not change to the Star Gladiator or the Soul Linker can also choose to become a TaeKwon Ranker, but they must complete TaeKwon missions and compete with other TaeKwon Rankers to stay ranked, otherwise they lose access to the Ranker Bonus.";
			next;
			mes .npcname$;
			mes "Well, that's every single class in Ragnarok Online. I hope this information is helpful to you. Feel free to talk to me anytime if you ever need to hear this again.";
			close;
		}
	case 3:
		mes .npcname$;
		mes "Well, come back to me anytime you're curious.";
		close;
	}
}

moc_para01,165,47,3	script	Dr. Hatterson#parahat	804,{

	if (getarraysize(.hats) < 1)
		callsub LoadHats;
		
		
	set .@n$,"[Dr. Hatterson]";
	
	mes .@n$;
	mes "Hello, I'm Dr. Hatterson, PhD in Fashion, an expert on headgear trends around the world!"; 
	next;
	mes .@n$;
	mes "I've spent many years researching the wearing of hats and how their style affects how people look at you and how you feel about yourself!";
	next;
	mes .@n$;
	mes "A PhD in Fashion specializing in hats might sound silly to you, but my brother has a PhD in basket weaving underwater.";
	next;
	mes .@n$;
	mes "With my research, I can make just about any hat out there, but I prefer to leave the more basic hat manufacturing to the proles! In fact, I craft only special hats!";
	next;
	mes .@n$;
	mes "Take a look at my catalog and let me know if you see anything you like.";
	
L_hatmenu:
	set .@menustr$, "Nothing right now, thanks.";
	
	for (set .@i, 0; .@i < getarraysize(.hats); set .@i, .@i + 1)
	{
		set .@name$, getitemname(.hats[.@i]) + (getitemslots(.hats[.@i])?"["+getitemslots(.hats[.@i])+"]":"");
		set .@menustr$, .@menustr$ + ":" + .@name$;
	}
	
	next;
	set .@s, select(.@menustr$)-2;
	
	if (.@s == -1)
	{
		mes .@n$;
		mes "Ah, okay, then.";
		close;
	}
	else
	{
		mes "<"+getitemname(.hats[.@s])+">";
		
		if (.kafra_r[.@s])
			mes "Kafra Points: " + .kafra_r[.@s];
		if (.cash_r[.@s])
			mes "Cash Points: " + .cash_r[.@s];
		if (.mission_r[.@s])
			mes "Mission Points: " + .mission_r[.@s];
		if (.zeny_r[.@s])
			mes "Zeny: " + .zeny_r[.@s];
		if (.badge_r[.@s])
			mes "Badges: " + .badge_r[.@s];
			
		if (.items_r[.@s])
		{
			
			set .@item_amt, getarraysize(getd(".hat_"+.hats[.@s]+"_id"));
			for (set .@i, 0; .@i < .@item_amt; set .@i, .@i + 1)
			{
				set .@ingredient_amount, getd(".hat_"+.hats[.@s]+"_amt["+.@i+"]");
				set .@ingredient_id, getd(".hat_"+.hats[.@s]+"_id["+.@i+"]");
				set .@slots$, getitemslots(.@ingredient_id)?"["+getitemslots(.@ingredient_id)+"]":""; 
				mes " - " + .@ingredient_amount + " ^7F2F2F" + getitemname(.@ingredient_id) + " " + .@slots$ + "^000000";
			}
		}
		
		switch (select("Create " + getitemname(.hats[.@s]) +":Return the main menu:I'm done looking"))
		{
			case 1:
				
				// check requirements
				next;
				set .@good, 1;
				if (.kafra_r[.@s] && ##KAFRAPOINTS < .kafra_r[.@s])
				{
					set .@good, 0;
					mes "Not enough Kafra Points";
				}
				if (.cash_r[.@s] && ##CASHPOINTS < .cash_r[.@s])
				{
					set .@good, 0;
					mes "Not enough Cash Points";
				}
				if (.mission_r[.@s] && MD_mission_pts < .mission_r[.@s])
				{
					set .@good, 0;
					mes "Not enough Mission Points";
				}
				if (.zeny_r[.@s] && Zeny < .zeny_r[.@s])
				{
					set .@good, 0;
					mes "Not enough Zeny";
				}
				if (.badge_r[.@s] && countitem(7773) < .badge_r[.@s])
				{
					set .@good, 0;
					mes "Not enough BG Badges";
				}
				if (.items_r[.@s])
				{
					
					set .@item_amt, getarraysize(getd(".hat_"+.hats[.@s]+"_id"));
					for (set .@i, 0; .@i < .@item_amt; set .@i, .@i + 1)
					{
						set .@ingredient_amount, getd(".hat_"+.hats[.@s]+"_amt["+.@i+"]");
						set .@ingredient_id, getd(".hat_"+.hats[.@s]+"_id["+.@i+"]");
						set .@slots$, getitemslots(.@ingredient_id)?"["+getitemslots(.@ingredient_id)+"]":""; 
						
						if ( countitem(.@ingredient_id) < .@ingredient_amount)
						{
							set .@good, 0;
							mes "Not enough ^7F2F2F" + getitemname(.@ingredient_id) + " " + .@slots$ + "^000000";
						}
					}
				}
				
				if (.@good == 1)
				{
					if (.kafra_r[.@s])
						paypoints(.kafra_r[.@s]);
					if (.cash_r[.@s])
						paycash(.cash_r[.@s]);
					if (.mission_r[.@s])
						set MD_mission_pts, MD_mission_pts - .mission_r[.@s];
					if (.zeny_r[.@s])
						set Zeny, Zeny - .zeny_r[.@s];
					if (.badge_r[.@s])
						delitem(7773, .badge_r[.@s]);
					
					if (.items_r[.@s])
					{
					
						set .@item_amt, getarraysize(getd(".hat_"+.hats[.@s]+"_id"));
						for (set .@i, 0; .@i < .@item_amt; set .@i, .@i + 1)
						{
							set .@ingredient_amount, getd(".hat_"+.hats[.@s]+"_amt["+.@i+"]");
							set .@ingredient_id, getd(".hat_"+.hats[.@s]+"_id["+.@i+"]");
							
							delitem(.@ingredient_id, .@ingredient_amount);
						}
					}
					
					getitem(.hats[.@s],1);
					announce(strcharinfo(0) + " has created a [" + getitemname(.hats[.@s]) + "]!", bc_all|bc_blue);
					next;
					mes .@n$;
					mes "It's beautiful, isn't it?! Go out and show the world your assets!";
					close;
				}
				else
				{
					next;
					mes .@n$;
					mes "I'm sorry... you do not seem to meet all of the requirements.";
					close;
				}
				
				
				
			case 2:
				mes "";
				goto L_hatmenu;
				end;
			case 3:
				close;
		}
		
		
	}
	
	
	end;
	
	
	
	OnInit:
	LoadHats:
	
	function add_hat;
	
	set .@i, 0;
	add_hat(.@i,5258,30,0,0,0,0,978,1,975,1,976,1,1020,111);set .@i, .@i + 1; 								// Afro Wig
	add_hat(.@i,5137,100,0,0,0,0,2338,1,5141,1,7047,50,661,3);set .@i, .@i + 1; 							// Alice Doll
	add_hat(.@i,5389,50,0,0,0,0,5074,1,999,50);set .@i, .@i + 1; 											// Angel Spirit
	add_hat(.@i,5153,20,0,0,0,0,5132,1,2607,1);set .@i, .@i + 1; 											// Angeling Hairpin
	add_hat(.@i,5132,20,0,0,0,0,2254,1,5035,1,5172,1);set .@i, .@i + 1; 									// Angeling Hat
	add_hat(.@i,5521,10,0,0,0,0,7266,10,7117,10);set .@i, .@i + 1; 											// Angry Mouth
	add_hat(.@i,5490,50,0,0,0,0,1625,1,1060,60,1045,30,7166,5);set .@i, .@i + 1; 							// Anubis Hat
	add_hat(.@i,5685,10,0,0,100000,0,938,100,2226,1);set .@i, .@i + 1; 										// Army Cap
	add_hat(.@i,5404,20,0,0,0,0,2209,1,978,5,12029,20);set .@i, .@i + 1; 									// Blue Ribbon
	add_hat(.@i,5800,300,0,0,0,0,7047,100,5040,1);set .@i, .@i + 1; 								 		// Blush of Groom
	add_hat(.@i,5308,20,0,0,0,0,7267,9,7120,7,7171,18,917,22,2226,1);set .@i, .@i + 1;						// Brazil Sports Hat
	add_hat(.@i,5560,50,0,0,0,0,7754,1,7327,5,5017,1,999,30);set .@i, .@i + 1; 								// Bullock Helm
	add_hat(.@i,5378,10,0,0,0,0,2214,1,5032,1);set .@i, .@i + 1; 											// Bunny Top Hat
	add_hat(.@i,5445,10,0,0,0,0,578,100,7111,10);set .@i, .@i + 1; 											// Candy Cane in Mouth
	add_hat(.@i,5304,15,0,0,0,0,2501,1,983,1,7511,50);set .@i, .@i + 1; 									// Cap of Blindness
	add_hat(.@i,5283,10,0,0,0,0,7115,40,7116,30,916,15);set .@i, .@i + 1;									// Chick Hat
	add_hat(.@i,5564,100,0,0,0,0,2235,1,7101,35,723,20,718,55);set .@i, .@i + 1;							// Crown of Deceit
	add_hat(.@i,5135,50,0,0,0,0,969,1,7043,55,612,1);set .@i, .@i + 1; 										// Cyclops Visor
	add_hat(.@i,5373,50,0,0,0,0,7150,10,2255,1,7511,666);set .@i, .@i + 1; 									// Dark Rand Helm
	add_hat(.@i,5455,25,0,0,0,0,1032,433,2221,1,7141,5,608,4);set .@i, .@i + 1; 							// Decorative Geographer
	add_hat(.@i,5211,10,0,0,0,0,7063,10,2252,1,5126,1);set .@i, .@i + 1; 									// Dress Hat
	add_hat(.@i,5421,300,0,0,0,0,7098,100,994,50,2286,1);set .@i, .@i + 1; 									// Ears of Ifrit
	add_hat(.@i,5282,25,0,0,0,0,978,1,2221,1);set .@i, .@i + 1; 											// Europe Baseball Cap
	add_hat(.@i,5276,10,0,0,0,0,978,4,975,4,976,4,1020,444);set .@i, .@i + 1; 								// Fantastic Wig
	add_hat(.@i,5155,1000,0,0,0,0,2241,1,7140,5,6113,1);set .@i, .@i + 1;								 	// Father's Moustache
	add_hat(.@i,5170,50,0,0,0,0,7063,50,5172,1);set .@i, .@i + 1; 											// Feather Beret
	add_hat(.@i,5405,30,0,0,0,0,7441,88,5076,1);set .@i, .@i + 1;								 			// Filir Hat
	add_hat(.@i,5403,30,0,0,0,0,1023,100,579,50,7111,10);set .@i, .@i + 1;								 	// Fish in Mouth
	add_hat(.@i,5210,30,0,0,0,0,2254,1,7063,15);set .@i, .@i + 1; 											// Flapping Angel Wing
	add_hat(.@i,5376,100,0,0,0,0,2255,1,5210,1,1039,666);set .@i, .@i + 1; 									// Flying Evil Wing
	add_hat(.@i,5377,1000,0,0,0,0,2268,1,7315,10);set .@i, .@i + 1;								 			// Gentleman's Pipe
	add_hat(.@i,5363,50,0,0,0,0,5685,1,983,5,1064,405);set .@i, .@i + 1; 									// Helm of Abyss
	add_hat(.@i,5314,100,0,0,0,0,999,100,7095,50);set .@i, .@i + 1; 										// Hockey Mask
	add_hat(.@i,5367,70,0,0,0,0,2264,1,5046,1,609,100);set .@i, .@i + 1; 									// Hyegun Hat
	add_hat(.@i,5423,100,0,0,0,0,2285,1,5132,1,7063,20);set .@i, .@i + 1; 									// ILOVECHINA
	add_hat(.@i,5372,100,0,0,0,0,7206,50,6020,10,7263,2,5058,1,982,5);set .@i, .@i + 1; 					// Koneko Hat
	add_hat(.@i,5518,100,0,0,0,0,5374,1,5170,1);set .@i, .@i + 1;											// Large Bapho Horn
	add_hat(.@i,5555,10,0,0,0,0,7298,88,717,1,716,1,6020,60);set .@i, .@i + 1; 								// Leaf Cat Hat
	add_hat(.@i,5324,50,0,0,0,0,2254,1,7268,777,523,77);set .@i, .@i + 1; 									// Little Angel Doll
	add_hat(.@i,5420,50,0,0,0,0,994,66,7101,55,7122,44);set .@i, .@i + 1;								 	// Mask of Ifrit
	add_hat(.@i,5214,10,0,0,0,0,1022,500,1234,1);set .@i, .@i + 1; 											// Moonlight Flower Hat
	add_hat(.@i,5387,10,0,0,0,0,2210,1,5057,1);set .@i, .@i + 1;											// Nekomimi Kafra Band
	add_hat(.@i,5151,10,0,0,0,0,5001,1,7574,5,7095,5);set .@i, .@i + 1; 									// Note Headphones
	add_hat(.@i,5554,10,0,0,0,0,1024,144,962,144,610,8);set .@i, .@i + 1; 									// Octopus Hat
	add_hat(.@i,5483,50,0,0,0,0,999,50,7511,50);set .@i, .@i + 1; 											// Odin's Mask
	add_hat(.@i,5225,200,0,0,0,0,1098,50,7063,50);set .@i, .@i + 1;											// Parade Hat
	add_hat(.@i,5358,25,0,0,0,0,7101,50,2286,1);set .@i, .@i + 1; 											// Peco Ears
	add_hat(.@i,5520,50,0,0,0,0,5001,1,6020,77,5085,1);set .@i, .@i + 1; 									// Rabbit Earplugs
	add_hat(.@i,5463,1000,0,0,0,0,7216,1,983,1,978,1,979,1,976,1,980,1,975,1,981,1,982,1);set .@i, .@i + 1; // Rainbow Scarf
	add_hat(.@i,5293,10,0,0,0,0,12057,5,12395,1,735,1,12095,1);set .@i, .@i + 1; 							// Ramen Hat
	add_hat(.@i,5288,50,0,0,0,0,2203,1,975,5);set .@i, .@i + 1; 											// Red Glasses
	add_hat(.@i,5208,30,0,0,0,0,7015,50,7449,10,1553,1,1554,1,1555,1,1556,1);set .@i, .@i + 1; 				// Rideword Hat
	add_hat(.@i,5325,300,0,0,0,0,2296,1,7095,5,999,100);set .@i, .@i + 1; 									// Robo Eyes
	add_hat(.@i,5359,300,0,0,0,0,5019,1,975,1,1764,500);set .@i, .@i + 1; 									// Ship Captain's Hat
	add_hat(.@i,5203,50,0,0,0,0,2278,1,1015,5);set .@i, .@i + 1; 											// Smiling Tongue Mask
	add_hat(.@i,5462,1000,0,0,0,0,7216,1,7215,50,952,50);set .@i, .@i + 1; 									// Spiked Scarf
	add_hat(.@i,2202,300,0,0,0,0,730,100,2201,2);set .@i, .@i + 1;											// Sunglasses [1]
	add_hat(.@i,5256,10,0,0,0,0,7510,1,2210,1);set .@i, .@i + 1; 											// Valk Feather Band
	add_hat(.@i,5289,25,0,0,0,0,7004,50,687,10,691,10,689,10,693,10);set .@i, .@i + 1;						// Vanil Hat
	add_hat(.@i,5574,1000,0,0,0,0,7222,222,1201,1,1003,50);set .@i, .@i + 1; 								// Well Chewed Pencil
	add_hat(.@i,5277,100,0,0,0,0,976,2,2211,1,2289,1);set .@i, .@i + 1; 									// Yellow Bandana
	
	//hatid,kpointreq,cpointreq,mpointreq,zenyreq,badgereq,itemid1,itemamt1,...itemidn,itemamtn
	function add_hat {
	
		set .@hat_index, getarg(0);
		set .@hat_id, getarg(1);
		set .@kp_req, getarg(2);
		set .@cp_req, getarg(3);
		set .@mp_req, getarg(4);
		set .@z_req , getarg(5);
		set .@bb_req, getarg(6);
		set .@args  , getargcount();
		set .@item_req, (.@args-7) / 2;
		
		
		set .hats[.@hat_index]     , .@hat_id;
		set .kafra_r[.@hat_index]  , .@kp_req;
		set .cash_r[.@hat_index]   , .@cp_req;
		set .mission_r[.@hat_index], .@mp_req;
		set .zeny_r[.@hat_index]   , .@z_req;
		set .badge_r[.@hat_index]  , .@bb_req;
		set .items_r[.@hat_index]  , .@item_req;
		
		
		if (.@item_req > 0)
		{
			set .@base, 7;
			
			set .@i, 0;
			for (set .@n, 0; .@n < .@item_req; set .@n, .@n + 1)
			{
				setd(".hat_"+.@hat_id+"_id["+.@n+"]", getarg(.@base+.@i));
				setd(".hat_"+.@hat_id+"_amt["+.@n+"]", getarg(.@base+.@i+1));
				set .@i, .@i+2;
			}
		
		}
		
		
	}
	
}

moc_para01,167,52,4	script	Well-Versed Man#rwchat	947,{

	set .@n$, "[Well-Versed Man]";
	mes .@n$;
	mes "Hail, Traveller!";
	
	if (BaseLevel < 99)
	{
		next;
		mes .@n$;
		mes "Oh, inexperienced one. Come to me at your max level, your strongest state, and I will be happy to provide you with challenge for the strongest warriors. Oh, and do bring friends for help, you will not be able to go anywhere without them.";
		close;
	}
	if (BaseLevel == 99 && RWC_WORTHY == 0)
	{
		next;
		mes .@n$;
		mes "I'm a man of many connections. I've witnessed events in faraway lands. You may not think much of me, but I am a .. Transcendent Being, if you will."; 

		next;
		mes .@n$;
		mes "But enough about me, I know more than this Hatterson, he speaks only of helmets of Rune-Midgard, Arunafelz, Niflheim, Jotunheim, and Schwarzvald.";

		next;
		mes .@n$;
		mes "I know of glorious helmets created for adventurers from an alternate realm, found past the Fourth Wall.";
		
		next;
		mes .@n$;
		mes "However, these items are no small task for creation.. I will require proof of excellence in order to entrust my knowledge to you... do you think yourself worthy?";

		next;
		if ( select("What do I need to prove myself?:I think *your*self crazy, bye.")==2)
		{	
			mes .@n$;
			mes "Suit yourself. You'll never obtain ultimate power if you do not search for it.";
			
			close;
		}
		
		mes .@n$;
		mes "Ah, good, so you accept my challenge? Very well then. I need proof that you are strong enough to withstand the power of these items, even in their weakest forms...";
		
		next;
		mes .@n$;
		mes "Complete these missions before I consider you worthy:";
		
		setarray .@mission$[0], "Demons of the Cursed Abbey", "Shadows of Dimensional Gorge", "Deadly Experiments from Somatology Laboratory", "Sleep Under Thor Volcano, Red-Grey Beasts!", "Beyond the Gates of Thanatos Tower";
		
		for (set .@i, 0; .@i < getarraysize(.@mission$); set .@i, .@i + 1)
			mes " "+(.@i+1)+") "+.@mission$[.@i];
		
		
		next;
		mes .@n$;
		mes "Only upon completing these missions can I truly tell if you're a worthy being. ";
		set RWC_WORTHY, 1;
		
	}
	if (RWC_WORTHY == 1)
	{
		next;
		mes .@n$;
		mes "Allow me to check your progress...";
		
		next;
		setarray .@mission_name$[0], "Demons of the Cursed Abbey", "Shadows of Dimensional Gorge", "Deadly Experiments from Somatology Laboratory", "Sleep Under Thor Volcano, Red-Grey Beasts!", "Beyond the Gates of Thanatos Tower";
		setarray .@mission_id[0], 70, 77, 74, 73, 80;
		
		mes .@n$;
		set .@completed, 0;
		for (set .@i, 0; .@i < getarraysize(.@mission_name$); set .@i, .@i+1)
		{
			set .@complete_time, getd("MD_"+.@mission_id[.@i]+"_time");
			if ( .@complete_time < 10000)
				mes "^006F00"+.@mission_name$[.@i] + "^000000 is not done yet...";
			else
				set .@completed, .@completed + 1;
		}
		
		if (.@completed < 5)
		{	
			next;
			mes .@n$;
			mes "You have just a few more to go. I believe in you!";
			close;
		}
		else
		{
			mes "ALL DONE!";
			set RWC_WORTHY, 2;
		}
		
	}
	if (RWC_WORTHY == 2)
	{
		next;
		mes .@n$;
		mes "Well done! You've gone through a lot in your day, haven't you? I do not doubt your abilities one bit. You and your friends are quite the adventurers, and quite powerful warriors...";
		
		next;
		mes .@n$;
		mes "With this item, who knows what kind of havoc you could wreak. Oh dear, it flusters me so much to think of it!";
		
		next;
		mes .@n$;
		mes "Sorry, right then. I assume you'd like to know what you need to do?";
		
		next;
		mes .@n$;
		mes "First, allow me to explain. This helmet will increase your damage against Humans, add at least 1 to every stat, and also increase your speed of attack.";
		
		next;
		mes .@n$;
		mes "There is a catch, though.. it must be crafted in three parts. First, as a Copper version. Then, we temper it into a Silver version. With just a bit more work, then you'll have the complete helmet... the RWC Gold Helm. Oh, it's quite a majesty to behold.";
		
		next;
		mes .@n$;
		mes "You have to do this for a price, of course! I'm not going to just hand it out to you for free because you're powerful. Nope, I'd like to turn some profit, and I need materials from some of the strongest monsters from this realm. Can you handle it?";
		
		if ( select("I'm ready:Um, nope") == 2)
		{
			next;
			mes .@n$;
			mes "Oh my, how unfortunate. A worthy being with no aspirations.... It's quite tragic to see. All that power and intellect, but no desire to use it. Sad to see it wasted.";
			close;
		}	
		set RWC_WORTHY, 3;
	
	}
	
	if (RWC_WORTHY == 3)
	{
		next;
		mes .@n$;
		mes "You can handle it. Good, good. What would you like to do?";
		
		next;
		set .@s, select("Craft Copper Helm:Convert Copper to Silver:Convert Silver to Gold:Nothing");
			
		switch (.@s)
		{
			case 1:
			case 2:
			case 3:
				mes .@n$;
				mes "Allow me to show you what I require. And remember, I need materials gathered from some powerful monsters, but that should be no problem for you, right?";
				if (.@s > 1)
					mes "Please also don't forget, you'll lose whatever cards and refines the hat may have by now. So be sure to deslot it first.";
				
				next;
				set .@reward, 0;
				set .@cost, 0;
				set .@stats, 0;
				set .@aspd, 0;
				set .@dmg, 0;
				set .@item_count, 100;
				deletearray .@ingredients[0], .@item_count;
				deletearray .@amounts[0], .@item_count;
				
				if (.@s == 1) // copper
				{
					set .@reward, 5453;
					set .@cost, 500;
					set .@stats, 2;
					set .@aspd, 5;
					set .@dmg, 1;
					setarray .@ingredients[0], 5025, 1559, 5007, 2256, 7451, 7345, 1035, 1036, 1037, 7123, 7265, 7266, 7297, 7289, 714;
					setarray .@amounts[0],        1,    1,    1,    1,    1,   30,  100,  100,  100,  100,  100,  100,   10,    5,   5;
				}
				else if (.@s == 2) // silver
				{
					set .@reward, 5452;
					set .@cost, 1000;
					set .@stats, 2;
					set .@aspd, 7;
					set .@dmg, 3;
					setarray .@ingredients[0], 5453, 7211, 7108, 7450, 999, 985, 7510, 7294, 7296, 7292;
					setarray .@amounts[0],        1,    1,    1,    1, 100,  30,   10,    3,    5,   10;
				}
				else if (.@s == 3) // gold
				{
					set .@reward, 5451;
					set .@cost, 1500;
					set .@stats, 3;
					set .@aspd, 10;
					set .@dmg, 5;
					setarray .@ingredients[0], 5452, 7566, 7562, 7024, 7754, 1181, 7563, 969, 714, 7290, 7291, 7295, 7293;
					setarray .@amounts[0],        1,    1,    1,    1,    1,    1,  500,  10,   5,    10,   3,    5,    3;
				}
				set .@item_count, getarraysize(.@ingredients);
				set .@desc$, "AllStats+" + .@stats + ", ASPD+" + .@aspd + "%, Human Dmg +" + .@dmg + "%";
				mes "^2F0000"+getitemname(.@reward)+"^000000";
				mes .@desc$;
				mes ##KAFRAPOINTS + " / " +.@cost + " Kafra Points";
				set .@gather_completion, 0;
				for (set .@i, 0; .@i < .@item_count; set .@i, .@i+1)
				{
					mes countitem(.@ingredients[.@i]) + "/" + .@amounts[.@i] + " " + getitemname(.@ingredients[.@i]);
					if (countitem(.@ingredients[.@i]) >= .@amounts[.@i])
						set .@gather_completion, .@gather_completion + 1;
				}
				if( select("Submit Items for Creation:I'll bring them to you when I can, I promise!") == 2)
				{
					next;
					mes .@n$;
					mes "It's good to see you with such determination! Fight on, Warrior!";
					close;
				}
				
				next;
				mes .@n$;
				mes "Okay. Then, let's see if you've got everything.";
				
				set .@good, 1;
				if (.@gather_completion == .@item_count) 
					mes "You've got every item needed... ";
				else
				{
					set .@good, 0;
					mes "Oh, you're still missing some items.";
				}
					
				if (##KAFRAPOINTS >= .@cost)
					mes "You can afford my troll toll to get into this monster's soul.";
				else
				{
					mes "You need more Kafra Points.";
					set .@good, 0;
				}
					
				if (.@good == 0)
				{
					mes "Come back when you have everything, yes?";
					close;
				}
				
				next;
				mes .@n$;
				// now we give the hat
				mes "Oh.. oh, this is incredible, great job! You can complete the ^00001F" + getitemname(.@reward) + "^000000!!";
				
				for (set .@i, 0; .@i < .@item_count; set .@i, .@i+1)
					delitem(.@ingredients[.@i], .@amounts[.@i]);
				paypoints(.@cost);
				getitem(.@reward, 1);
				
				set .@annc$, strcharinfo(0) + ", ";
				
				if (getcharid(2) != 0)
					set .@annc$, .@annc$ + "of " + getguildname(getcharid(2)) + ", ";
				set .@annc$, .@annc$ + "has created the otherworldy helm [" + getitemname(.@reward) + "]"; 
				announce .@annc$, bc_all|bc_blue; 
				
				next;
				mes .@n$;
				mes "It's magnificent, isn't it?";
				close;
			case 4:
				mes .@n$;
				mes "So be it. Come back to me if you still desire the Ultimate Power.";
				close;
		}
	}
}



// --------------------------------------------------------------
// -                   Fast Cooking NPCs                        -
// --------------------------------------------------------------
//      Special NPCs for Mission Zone
//      Fast access Cooking NPCs that do not require quests
//	For New World and Rune Midgard Foods
//
//
// npc legend
// 	1) moc_para01,180,45 - New World Trader
// Not Done	-- Must wear a Chef Hat to use
// Done		-- Exchanges New World Foods for their items
//		-- bypassing Tripatriate Union's Food
//		-- Quest Requirement to get them
//		-- Requiring 1 Kafra Point for Food Traded
//		-- 1 Rune Strawberry Cake 12319
//		-- = 5 Mystic Horn 6023
//		-- 1 Arunafeltz Desert Sandwich 12321
//		-- = 5 Peaked Hat 6021
//		-- 1 Schwarzwald Pine Jubilee 12320
//		-- = 5 Fur 6020
//
//	2) moc_para01,181,41 - Madeleine Chu
//		-- Explains Cooking in Basic Terms
//		-- Offers to give Level 1-5 Cookbooks
//		-- Where to find Level 6-10 Cookbooks
//		-- Where to find Pro, Royal, Fantastic Cook Kits
//
// Done	3) moc_para01,176,34 - Cooking Vender
//		-- Shop NPC to sell Buyable Ingredients
//		-- and outdoor and Home cooking kits
//
//	4) moc_para01,176,42 - Culinary Expert
//		-- Explains Food Buffs
//		-- Explains Different Levels of Food Buffs
//		-- Tells players where to get a Chef Hat
//		-- Tells players about Rune-Midgard Foods 
//		-- and Ash Vacuum foods
//		-- Mentions Prontera church daily
// 
// Duplicate Lutie Vending Machine
// Chef Hat, 5026
// Mission Shop
// Chef Hat, 100 P

// List of items
// (Drop Rates based on our server rates)
// --------------------------------------------------------------
// ------------------------  Cookbooks  -------------------------

// Level 1 Cookbook, 7472
//	-- Trade Level 1 Cookbook for 10 Pumpkins 535
// Level 2 cookbook, 7473
//	-- Trade for 5 Well Baked Cookies 538
// Level 3 Cookbook, 7474
//	-- 5 Sushi 551
// Level 4 Cookbook, 7475
//	-- 5 Bao 553
// Level 5 Cookbook, 7476
//	-- 10 Shoot 711

// How to get Level 6-10 Cookbooks
// Level 6 Cookbook, 7477
//	-- Pirate Skeleton 0.50%
//	-- Orc Lady 0.30%
//	-- Requiem 0.10%
// Level 7 Cookbook, 7478
//	-- Evil Druid 0.40%
// Level 8 Cookbook, 7479
//	-- Gemini-S58 0.60%
//	-- Death Word 0.20%
// Level 9 cookbook, 7480
//	-- Turtle General 20.00%
//	-- Death Word 0.10%
// Level 10 Cookbook, 7481
//	-- Maya Purple 0.20%
//
//
// --------------------------------------------------------------
// --------------------  Cooking Kits  --------------------------
// Outdoor Cooking Kit 12125 - Purchaseable
// Home Cooking Kit 12126 - Purchaseable
// Professional Cooking Kit 12127
//	-- Miyabi Doll 1%
//	-- Venatu 10%
//	-- Orc Lady 1%
//	-- Magnolia 0.50%
//	-- Violy 5%
// Royal Cooking Kit 12128
//	-- Dimik 5%
//	-- Alice 1%
//	-- Tengu 2%
//	-- Aliza 5%
// Fantastic Cooking Kit 12129
//	-- Lady Tanee 100%
// --------------------------------------------------------------
// ------------------  Cooking Ingredients  ---------------------
//	-- Outdoor Cooking Kit, 12125:-1,
//	-- Home Cooking Kit, 12126:-1,
//	-- Cooking Oil, 7457:-1,
//	-- Pot, 7482:-1,
//	-- Bread, 580:-1,
//	-- Edible Mushroom, 581:-1,
//	-- Grain, 577:-1,
//	-- Jack O Pumpkin, 1062:-1,
//	-- Shrimp 567:-1,
//	-- Red Chile, 7286:-1,
//	-- Red Spice, 7456:-1,
//	-- Savory Sauce, 7454:-1,
//	-- Spicy Sauce, 7455:-1,
//	-- Sweet Sauce, 7453:-1,
//	-- Yellow Spice, 7452:-1,

// --------------------------------------------------------------
// ------------------  1) New World Trader  ---------------------
// tranger (Fr. foreign)



moc_para01,180,45,5	script	Chef Etranger#cookZ	820,{
	set .n$,"[Chef Etranger]";
	mes .n$;
	mes "Heh. I may not look like much, but I'm a master chef. I've travelled all over the three kingdoms and created three dishes which truly embrace the quality of each";
	next;
	mes .n$;
	mes "Unfortunately, I'm too old to travel to Jotunheim. If I had samples of what lies beyond the Ash Vacuum, I could work on a new dish to be my final masterpiece.";
	next;
	mes .n$;
	mes "Why don't you take a pick?";
	next;

	setarray(.@ingredients[0], 6023, 6020, 6021);
	setarray(.@foods[0], 12319, 12320, 12321);
	set(.@mstr$, "");
	for (set(.@i, 0); .@i < getarraysize(.@ingredients); set(.@i, .@i+1) )
		set(.@mstr$, .@mstr$ + "Every 5 "+getitemname(.@ingredients[.@i])+" I have for 1 "+getitemname(.@foods[.@i])+":");
	
	set(.@mstr$, .@mstr$ + "What do these dishes do?:Cancel");
	
	set(.@s, select(.@mstr$) - 1);
	
	switch (.@s)
	{
		case 0:
		case 1:
		case 2:
			mes .@n$;
			mes "Okay.. let's take a look, did you bring what I wanted?";
			next;
			if (countitem(.@ingredients[.@s]) > 4)
			{
				mes .@n$;
				mes "Yes, you did bring me enough!";
				mes "Here you go!";
				set(.@amt, countitem(.@ingredients[.@s]) / 5);
				delitem(.@ingredients[.@s], .@amt * 5);
				getitem(.@foods[.@s], .@amt);
				close;
			}
			else
			{
				mes .n$;
				mes "Whoa, I can't prepare you "+getitemname(.@foods[.@s])+" unless you bring me at least 5 "+getitemname(.@ingredients[.@s])+".";
				next;
				mes .n$;
				mes "Why don't you come back when you have at least 5 "+getitemname(.@ingredients[.@s])+"? Then I can make you the dish you want to have!";
				close;
			}
			
			break;
		case 3:
			mes .n$;
			mes "These are specially prepared dishes... They aren't like the foods you may already know how to prepare. My dishes give temporary benefits...";
			next;
			mes .n$;
			mes "The ^9F0000Rune Strawberry Cake^000000 will give you a 10 minute buff of ^9F0000+5% ATK and +5% MATK^000000. This soft and sweet spongecake is a favorite of Charles Orleans.";
			next;
			mes .n$;
			mes "The ^009F00Arunafeltz Desert Sandwich^000000 with its rough and dry texture will surprise you with a 10 minute buff of ^009F00+7 Crit Rate^000000. It's best eaten quickly and washed down.";
			next;
			mes .n$;
			mes "My ^00009FSchwarzwald Pineapple Jubilee^000000 can rinse any taste out of your mouth with its cool fruity flavor. For 10 minutes, you will be buffed with ^00009F+10 Hit and +20 Perfect Dodge^000000.";
			next;
			mes .n$;
			mes "Aren't you just eager to try my dishes now...?";
			close;
		case 4:
			mes .n$;
			mes "Alright...you're missing out though.";
			close;
	}
}

// --------------------------------------------------------------
// ------------------  2) Madeleine Chu  ------------------------
//	2) moc_para01,181,41 - Madeleine Chu
//		-- Must wear a Chef Hat to use
//		-- Explains Cooking in Basic Terms
//		-- Offers to give Level 1-5 Cookbooks
//		-- Where to find Level 6-10 Cookbooks
//		-- Where to find Pro, Royal, Fantastic Cook Kits
//
// Level 1 Cookbook, 7472
//	-- Trade Level 1 Cookbook for 10 Pumpkins 535
// Level 2 cookbook, 7473
//	-- Trade for 5 Well Baked Cookies 538
// Level 3 Cookbook, 7474
//	-- 5 Sushi 551
// Level 4 Cookbook, 7475
//	-- 5 Bao 553
// Level 5 Cookbook, 7476
//	-- 10 Shoot 711

moc_para01,181,41,5	script	Madeleine Chu#cookZ	886,{
	set .npcname$,"[Madeleine Chu]";
	mes .npcname$;
	mes "Hi, I'm "+ .npcname$ +"";
	mes "I was an assistant to the famous Charles Orleans. Now I've branched out to open my own cooking store here at the Mission Zone for professionals only...";
	next;

	mes .npcname$;
	mes "How can I do business with you?";
	next;
	switch(select("I want to buy Level 1~5 Cookbooks:Where can I get Level 6~10 Cookbooks?:Where can I find better cooking kits?:Eh.. I dont need anything"))
	{
		case 1:
			mes .npcname$;
			mes "I can sell you some Cookbooks, for a price. Let's call it 10,000 zeny per Level.";
			
			next;
			set .@s, select("Level 1 Cookbook:Level 2 Cookbook:Level 3 Cookbook:Level 4 Cookbook:Level 5 Cookbook:Cancel");
			if (.@s == 6)
			{
				mes .npcname$;
				mes "Well then...";
				close2;
				end;
			}
			else 
			{
				setarray .@cookbook[0],7472,7473,7474,7475,7476;
				setarray .@price[0],1,2,3,4,5;
				set .@s, .@s-1;
				set .@base, 10000;
				
				if (Zeny < .@price[.@s]*.@base)
				{
					mes .@npcname$;
					mes "Well, I'd love to help you but you just can't afford the cookbook. Come back to me when you've got more than "+.@price[.@s]*.@base + " zeny!";
					close;
				}
				set Zeny, Zeny -.@price[.@s]*.@base;
				
				mes .npcname$;
				mes "Here you are!";
				getitem(.@cookbook[.@s], 1);
				close;
			}
		case 2:
			mes .npcname$;
			mes "There are better Cookbooks than the ones I keep here. but I've never seen them. Monsters tend to steal nicer cookbooks.";
			next;
			mes .npcname$;
			mes "You might find some nicer cookbooks if you start investigating where monsters tend to hang out.";
			close;
		case 3:
			mes .npcname$;
			mes "There are better cooking kits out there.. monsters often like to steal them... Perhaps you should go steal some back?";
			next;
			mes .npcname$;
			mes "I wonder if monsters cook with them.. I wonder what a monster's dishes taste like.";
			next;
			mes .npcname$;
			mes "There is also a best possible cooking kit... but it belongs to ^00ff00Lady Tanee^000000 in Ayothoya Shrine... so good luck getting that!";
			close;
		case 4:
			mes .npcname$;
			mes "Don't waste my time then! Can't you see how busy I am?";
			close;
	}

}

// --------------------------------------------------------------
// ------------------  3) Cooking Vender  -----------------------

moc_para01,176,34,3	shop	Cooking Merchant#cookZ	97,12125:-1,12126:-1,7457:-1,7482:-1,580:-1,581:-1,577:-1,1062:-1,567:-1,7286:-1,7456:-1,7454:-1,7455:-1,7453:-1,7452:-1

// --------------------------------------------------------------
// ------------------  4) Culinary Expert  ----------------------
// "I may look like a small girl, but I have a very sophisticated palate."
// "In order to cook, you'll need to first don a ^0000ffChef Hat^000000!";
// "I heard you can exchange some monster drops to a ";
// "^ff0000Vending Machine^000000 in Lutie for one.";
// "Someone might try to sell you one elsewhere";
// "but you should know in your heart you're not a true chef";
// "even if your food achieves the desired effect.";

// "When you come back to me with a ^0000ffChef Hat^000000";
// "I'll be willing to share what else I know about foods.";

//moc_para01,176,42,5	script	Culinary Expert#cookZ	72,{
//	set .n$,"[Culinary Expert]";
//	mes .n$;
//	mes "Hello World!";
//	close;
// }
